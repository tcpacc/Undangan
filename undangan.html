<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Undangan</title>
</head>
<body>
    <div class="togglebox">
        <input type="checkbox" id="toggle">
        <label for="toggle"></label>
    </div>
    <div class="container">
        <section class="one">
            <canvas id="canv" width="300" height="100"></canvas>
            <div class="arch"></div>
            <p class="bigone">Mario & Sonic</p>
            <p class="bottomText">
                29 . 2 . 2025
            </p>
        </section>
        <section class="two">
            <div class="portfolioone">
                <img id="picture" src="Screenshot_2024-07-21_123109-removebg-preview.png" alt="">
                <div id="info">
                    <p class="bigtwo">Mario Mario</p>
                    <p class="content">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem nulla</p>
                </div>
            </div>
            <div class="portfoliotwo">
                <img id="picture" src="Screenshot_2024-07-22_182650-removebg-preview.png" alt="">
                <div id="info">
                    <p class="bigtwo">Olgivie M. W. Hedgehog</p>
                    <p class="content">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem nulla</p>
                </div>
            </div>
        </section>
        <section class="three">
            <div class="frame"></div>
            <div class="box">
                <p class="bigthree">Reception</p>
                <span class="line"></span>
                <p class="date">29 febuary 2025</p>
                <p class="date">09:00 AM - 04:00PM</p>
                <p class="location">Grazhdanskiy Prospekt, 41Ð‘,</p>
                <p class="location"> St Petersburg, Russia,</p>
                <p class="location"> 195257</p>
                <button type="button" class="googlelocation" onclick="location.href =`https://www.google.com/maps/place/Panda-Express/@59.970986,30.4466142,11.54z/data=!4m6!3m5!1s0x4696330b6591b4eb:0x4a6ebf43df1629fc!8m2!3d60.012322!4d30.398365!16s%2Fg%2F11c1qyy6mz?entry=ttu`">See Location</button>
                <p class="date">time left:</p>
                <p id="timer"></p>
            </div>
        </section>
    </div>
<script>
    let toggle = document.getElementById("toggle");
    function validate()
    {
        if(toggle.checked)
        {
            localStorage.setItem("darkMode", true);
            console.log(localStorage.getItem("darkMode"));
            document.querySelector(".one").classList.add("dark");
            document.querySelector(".two").classList.add("dark");
            document.querySelector(".three").classList.add("dark");
        }
        else{
            localStorage.setItem("darkMode", false);
            console.log(localStorage.getItem("darkMode"));
            document.querySelector(".one").classList.remove("dark");
            document.querySelector(".two").classList.remove("dark");
            document.querySelector(".three").classList.remove("dark");
        }
    }

    toggle.addEventListener("click", validate)

    const container = document.querySelector(".container");

    const containerone = document.querySelector("section.one");
    const containertwo = document.querySelector("section.two");
    const containerthree = document.querySelector("section.three");

    let containeronetop =containerone.getBoundingClientRect().top;
    let containertwotop =containertwo.getBoundingClientRect().top;
    let containerthreetop =containerthree.getBoundingClientRect().top;

    const triggerBottom = window.innerHeight;

    for(let i = 0; i < containerone.children.length; i++)
    {
        containerone.children[i].style.animationName = "";
    }
    for(let i = 0; i < containertwo.children.length; i++)
    {
        containertwo.children[i].style.animationName = "none";
        containertwo.children[i].style.display = "none";
    }
    for(let i = 0; i < containerthree.children.length; i++)
    {
        containerthree.children[i].style.animationName = "none";
        containerthree.children[i].style.display = "none";
    }

    container.addEventListener('scroll', () => {
        containeronetop =containerone.getBoundingClientRect().top;
        containertwotop =containertwo.getBoundingClientRect().top;
        containerthreetop =containerthree.getBoundingClientRect().top;

        if(containeronetop >= 0 && containeronetop > -innerHeight)
        {
            for(let i = 0; i < containerone.children.length; i++)
            {
                containerone.children[i].style.animationName = "";
                containerone.children[i].style.display = "";
            }
            for(let i = 0; i < containertwo.children.length; i++)
            {
                containertwo.children[i].style.animationName = "none";
                containertwo.children[i].style.display = "none";
            }
            for(let i = 0; i < containerthree.children.length; i++)
            {
                containerthree.children[i].style.animationName = "none";
                containerthree.children[i].style.display = "none";
            }
        }
        else if(containertwotop == 0 && containertwotop > -innerHeight)
        {
            for(let i = 0; i < containerone.children.length; i++)
            {
                containerone.children[i].style.animationName = "none";
                containerone.children[i].style.display = "none";
            }
            for(let i = 0; i < containertwo.children.length; i++)
            {
                containertwo.children[i].style.animationName = "";
                containertwo.children[i].style.display = "";
            }
            for(let i = 0; i < containerthree.children.length; i++)
            {
                containerthree.children[i].style.animationName = "none";
                containerthree.children[i].style.display = "none";
            }
        }
        else if(containerthreetop == 0 && containerthreetop > -innerHeight)
        {
            for(let i = 0; i < containerone.children.length; i++)
            {
                containerone.children[i].style.animationName = "none";
                containerone.children[i].style.animationName = "none";
            }
            for(let i = 0; i < containertwo.children.length; i++)
            {
                containertwo.children[i].style.animationName = "none";
                containertwo.children[i].style.display = "none";
            }
            for(let i = 0; i < containerthree.children.length; i++)
            {
                containerthree.children[i].style.animationName = "";
                containerthree.children[i].style.display = "";
            }
        }
    })

    window.onload = function()
    {
        if(localStorage.getItem("darkMode") == "true")
        {
            document.querySelector(".one").classList.add("dark");
            document.querySelector(".two").classList.add("dark");
            document.querySelector(".three").classList.add("dark");
            document.querySelector("#toggle").checked=true;
        }
        else if(localStorage.getItem("darkMode") == "false")
        {
            document.querySelector(".one").classList.remove("dark");
            document.querySelector(".two").classList.remove("dark");
            document.querySelector(".three").classList.remove("dark");
            document.querySelector("#toggle").checked=false;
        }
        let canvas = document.getElementById("canv");
        let context = canvas.getContext("2d")

        context.font = "20px 'Playwrite BE VLG'";
        context.fillStyle = "#fac585";
        context.textAlign = "center";

        let angle = Math.PI * 0.6;
        let radius = 100;

        let string = "The Wedding Of";

        context.translate(140,160)
        context.rotate(-1 * angle /2);

        for (let i = 0; i < string.length; i++) 
        {
        context.rotate(angle / string.length);
        context.save();
        context.translate(0, -1 * radius);
        context.fillText(string[i], 0, 0);
        context.restore(); 
        }
    }
    
    var countDownDate = new Date("Mar 1, 2025 04:20:00").getTime();
    
    var x = setInterval(function() {
    
        var now = new Date().getTime();
    
        var distance = countDownDate - now;

        var weeks = Math.floor(distance / (1000 * 60 * 60 * 24 * 7))
        var days = Math.floor(distance % weeks / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
    
        document.getElementById("timer").innerText = weeks+ "w :" +  days + "d :" + hours + "h :"
        + minutes + "m :" + seconds + "s ";
    
        if (distance < 0) {
        clearInterval(x);
        document.getElementById("timer").innerHTML = "EXPIRED";
        }
    }, 1000);
    </script>
</body>
</html>